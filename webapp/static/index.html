<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Gemini API Tools</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/static/css/style.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-dark bg-dark shadow">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1 text-gradient d-flex align-items-center">
                <i class="bi bi-stars text-primary"></i> Google Gemini API Tools
                <img src="/static/img/logo.png" alt="Logo" class="ms-2" style="height: 32px;">
            </span>
            <a href="/logout" class="btn btn-outline-light btn-sm">
                <i class="bi bi-box-arrow-right"></i> 로그아웃
            </a>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <!-- Header -->
                <!--
                <div class="text-center mb-5">
                    <h1 class="display-5 fw-bold text-gradient mb-2">
                        <i class="bi bi-stars text-primary"></i> Gemini API Tools
                    </h1>
                    <p class="lead text-muted">Create amazing content with Google's AI</p>
                </div>
                -->

                <!-- 작업 선택 -->
                <div class="card mb-4 shadow border-0">
                    <div class="card-header card-header-custom">
                        <h5 class="mb-0"><i class="bi bi-list-task me-2"></i> 작업 선택</h5>
                    </div>
                    <div class="card-body p-4">
                        <select class="form-select form-select-lg" id="operationType">
                            <option value="text-to-image">Text to Image</option>
                            <option value="image-to-image">Image to Image</option>
                            <option value="text-to-video">Text to Video</option>
                            <option value="image-to-video">Image to Video</option>
                            <option value="text-to-speech">Text to Speech</option>
                        </select>
                    </div>
                </div>

                <!-- 입력 파일 -->
                <div class="card mb-4 shadow border-0" id="fileInputCard" style="display: none;">
                    <div class="card-header card-header-custom">
                        <h5 class="mb-0" id="fileInputCardTitle"><i class="bi bi-file-earmark-image me-2"></i> 입력 파일 (최대
                            3장)</h5>
                    </div>
                    <div class="card-body p-4">
                        <div class="drop-zone" id="dropZone">
                            <div class="mb-3">
                                <i class="bi bi-cloud-arrow-up display-4 text-primary opacity-50"></i>
                            </div>
                            <p class="mb-3 text-muted" id="dropZoneText">여기에 파일을 드래그앤드롭하거나</p>
                            <label for="fileInput" class="btn btn-outline-primary px-4 rounded-pill">
                                <i class="bi bi-folder2-open me-2"></i> 파일 선택
                            </label>
                            <input type="file" id="fileInput" class="d-none" accept="image/*" multiple>
                            <p class="mt-2 mb-0 text-muted small" id="fileInputHint"></p>
                            <p class="mt-2 mb-0 text-muted small" id="selectedFileName"></p>
                        </div>
                        <div class="image-preview-container" id="imagePreviewContainer"></div>
                    </div>
                </div>

                <!-- 설정 -->
                <div class="card mb-4 shadow border-0">
                    <div class="card-header card-header-custom">
                        <h5 class="mb-0"><i class="bi bi-gear me-2"></i> 설정</h5>
                    </div>
                    <div class="card-body p-4">
                        <!-- 이미지 생성 모델 선택 -->
                        <div class="mb-4" id="imageModelGroup" style="display: none;">
                            <label class="form-label fw-bold text-dark">이미지 생성 모델</label>
                            <select class="form-select" id="imageModel">
                                <option value="gemini-3-pro-image-preview" selected>Nano-Banana Pro</option>
                                <option value="gemini-2.5-flash-image">Nano-Banana</option>
                            </select>
                            <!--
                            <div class="form-text text-muted small mt-2">
                                <i class="bi bi-info-circle me-1"></i>
                                <strong>Nano-Banana Pro</strong>: 고급 기능 및 높은 품질 (최대 14장 이미지 참조)<br>
                                <span class="ms-3"></span><strong>Nano-Banana</strong>: 빠른 생성 속도 (최대 3장 이미지 참조)
                            </div>
                            -->
                        </div>

                        <!-- 이미지 해상도 (Nano-Banana Pro 전용) -->
                        <div class="mb-4" id="imageResolutionGroup" style="display: none;">
                            <label class="form-label fw-bold text-dark">이미지 해상도</label>
                            <select class="form-select" id="imageResolution">
                                <option value="1K">1K</option>
                                <option value="2K" selected>2K</option>
                                <option value="4K">4K</option>
                            </select>
                            <!--
                            <div class="form-text text-muted small mt-1">
                                해상도가 높을수록 더 선명한 이미지가 생성되지만 처리 시간이 길어집니다.
                            </div>
                            -->
                        </div>

                        <!-- 이미지 비율 -->
                        <div class="mb-4" id="imageRatioGroup">
                            <label class="form-label fw-bold text-dark">이미지 비율</label>
                            <select class="form-select" id="aspectRatio">
                                <option value="1:1">1:1</option>
                                <option value="2:3">2:3</option>
                                <option value="3:2">3:2</option>
                                <option value="3:4">3:4</option>
                                <option value="4:3">4:3</option>
                                <option value="9:16" selected>9:16</option>
                                <option value="16:9">16:9</option>
                                <option value="21:9">21:9</option>
                            </select>
                        </div>

                        <!-- 비디오 설정 -->
                        <div id="videoSettingsGroup" style="display: none;">
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label class="form-label fw-bold text-dark">비디오 해상도</label>
                                    <select class="form-select" id="videoResolution">
                                        <option value="720p" selected>720p</option>
                                        <option value="1080p">1080p</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <label class="form-label fw-bold text-dark">비디오 비율</label>
                                    <select class="form-select" id="videoAspectRatio">
                                        <option value="16:9" selected>16:9 (가로)</option>
                                        <option value="9:16">9:16 (세로)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- 음성 설정 -->
                        <div class="mb-4" id="voiceSettingsGroup" style="display: none;">
                            <label class="form-label fw-bold text-dark">음성 선택</label>
                            <select class="form-select" id="voiceName">
                                <option value="Zephyr" selected>Zephyr -- Bright</option>
                                <option value="Puck">Puck -- Upbeat</option>
                                <option value="Charon">Charon -- Informative</option>
                                <option value="Kore">Kore -- Firm</option>
                                <option value="Fenrir">Fenrir -- Excitable</option>
                                <option value="Leda">Leda -- Youthful</option>
                                <option value="Orus">Orus -- Firm</option>
                                <option value="Aoede">Aoede -- Breezy</option>
                                <option value="Callirrhoe">Callirrhoe -- Easy-going</option>
                                <option value="Autonoe">Autonoe -- Bright</option>
                                <option value="Enceladus">Enceladus -- Breathy</option>
                                <option value="Iapetus">Iapetus -- Clear</option>
                                <option value="Umbriel">Umbriel -- Easy-going</option>
                                <option value="Algieba">Algieba -- Smooth</option>
                                <option value="Despina">Despina -- Smooth</option>
                                <option value="Erinome">Erinome -- Clear</option>
                                <option value="Algenib">Algenib -- Gravelly</option>
                                <option value="Rasalgethi">Rasalgethi -- Informative</option>
                                <option value="Laomedeia">Laomedeia -- Upbeat</option>
                                <option value="Achernar">Achernar -- Soft</option>
                                <option value="Alnilam">Alnilam -- Firm</option>
                                <option value="Schedar">Schedar -- Even</option>
                                <option value="Gacrux">Gacrux -- Mature</option>
                                <option value="Pulcherrima">Pulcherrima -- Forward</option>
                                <option value="Achird">Achird -- Friendly</option>
                                <option value="Zubenelgenubi">Zubenelgenubi -- Casual</option>
                                <option value="Vindemiatrix">Vindemiatrix -- Gentle</option>
                                <option value="Sadachbia">Sadachbia -- Lively</option>
                                <option value="Sadaltager">Sadaltager -- Knowledgeable</option>
                                <option value="Sulafat">Sulafat -- Warm</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 프롬프트 입력 -->
                <div class="card mb-5 shadow border-0">
                    <div class="card-header card-header-custom d-flex justify-content-between align-items-center">
                        <h5 class="mb-0 text-nowrap"><i class="bi bi-chat-left-text me-2"></i> 프롬프트 입력</h5>
                        <div>
                            <button class="btn btn-sm btn-outline-secondary me-1" id="savePromptBtn">
                                <i class="bi bi-save"></i> 저장
                            </button>
                            <button class="btn btn-sm btn-outline-secondary" id="loadPromptBtn">
                                <i class="bi bi-list-ul"></i> 목록
                            </button>
                        </div>
                    </div>
                    <div class="card-body p-4">
                        <textarea class="form-control" id="promptText" rows="6"
                            placeholder="프롬프트를 입력하세요... (프롬프트는 한국어로 작성해도 됩니다)"></textarea>
                    </div>
                </div>

                <!-- 실행 버튼 -->
                <div class="text-center mb-5">
                    <button class="btn btn-primary btn-lg rounded-pill px-5 py-3 shadow-lg" id="executeBtn">
                        <i class="bi bi-play-circle-fill me-2"></i> <span class="fw-bold">실행하기</span>
                    </button>
                </div>

                <!-- 진행 상태 -->
                <div class="alert alert-info d-none border-0 shadow" id="progressAlert" role="alert">
                    <div class="d-flex align-items-center justify-content-center">
                        <div class="spinner-border spinner-border-sm me-3" role="status">
                            <span class="visually-hidden">처리 중...</span>
                        </div>
                        <span id="progressMessage" class="fw-medium">처리 중...</span>
                    </div>
                </div>

                <!-- 결과 -->
                <div class="card shadow border-0 d-none mb-4" id="resultCard">
                    <div class="card-header card-header-custom">
                        <h5 class="mb-0"><i class="bi bi-check-circle me-2"></i> 결과</h5>
                    </div>
                    <div class="card-body text-center p-4" id="resultContent">
                    </div>
                </div>

                <!-- 로그 -->
                <div class="card shadow border-0">
                    <div class="card-header card-header-custom">
                        <h5 class="mb-0"><i class="bi bi-terminal me-2"></i> 로그</h5>
                    </div>
                    <div class="card-body p-0">
                        <div class="log-container" id="logContainer">
                            <div class="text-muted">준비 완료</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 프롬프트 목록 모달 -->
    <div class="modal fade" id="promptModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-list-ul"></i> 프롬프트 목록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="list-group" id="promptList">
                        <!-- 동적으로 생성 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/js/main.js"></script>
</body>

</html>